# ────────────────────────────────────────────
# Verus Agent Platform — Environment Variables
# ────────────────────────────────────────────
# Copy to .env and fill in values
# Generate secrets: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# ── Verus RPC ──
VERUS_RPC_HOST=127.0.0.1
VERUS_RPC_PORT=18843
VERUS_RPC_USER=YOUR_RPC_USER
VERUS_RPC_PASS=YOUR_RPC_PASSWORD

# ── API ──
API_PORT=3000
API_HOST=0.0.0.0

# ── Production (required in NODE_ENV=production) ──
NODE_ENV=development
COOKIE_SECRET=           # REQUIRED in production (32+ bytes hex)
CORS_ORIGIN=http://localhost:5173  # Comma-separated origins for production
PUBLIC_URL=http://localhost:3000   # Public-facing API URL

# ── Rate Limiting ──
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# ── Database ──
DB_PATH=./data/verus-platform.db

# ── Indexer ──
MIN_CONFIRMATIONS=6
POLL_INTERVAL_MS=10000
INDEXER_START_BLOCK=900000

# ── Identity ──
VDXF_NAMESPACE_ROOT=ari
PLATFORM_SIGNING_ID=agentplatform@
PLATFORM_SIGNING_ADDRESS=i7xKUpKQDSriYFfgHYfRpFc2uzRKWLDkjW
PLATFORM_CHAIN=vrsctest
PLATFORM_CHAIN_IADDRESS=iJhCezBExJHvtyH3fGhNnt2NhU4Ztkf2yq
PARENT_IADDRESS=i7xKUpKQDSriYFfgHYfRpFc2uzRKWLDkjW  # agentplatform@ i-address for subID registration
PLATFORM_FEE_ADDRESS=            # R-address for platform fee collection

# ── Auth Secrets ──
PRIVATE_KEY=             # WIF private key for VerusID login signing
LOGIN_CALLBACK_SECRET=   # HMAC shared secret with login microservice (without this, QR callbacks only from localhost)
ONBOARD_CHALLENGE_SECRET= # Optional: derives from COOKIE_SECRET if unset

# ── Webhook Encryption ──
# REQUIRED in production — AES-256-GCM key for webhook secrets at rest
WEBHOOK_ENCRYPTION_KEY=  # 32 bytes hex (64 chars)

# ── SafeChat ──
SAFECHAT_API_URL=              # SafeChat API (e.g., https://safechat.autobb.app)
SAFECHAT_API_KEY=              # API key (X-API-Key header)
SAFECHAT_ENCRYPTION_KEY=       # E2E encryption key (base64, 256-bit) — from SafeChat dashboard
SAFECHAT_PATH=                 # Local module path (fallback if no API configured)
SAFECHAT_TIMEOUT_MS=200        # HTTP timeout before falling back to inline scanner
LAKERA_API_KEY=                # Lakera Guard (only used in local mode)

# ── Onboard Rate Limiting ──
ONBOARD_IP_LIMIT=1       # Registrations per IP per hour (increase for testing)
